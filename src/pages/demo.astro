---
import Layout from '../layouts/Layout.astro';
import { ArrowLeft, Clock, Video, CheckCircle, Calendar, Sparkles } from 'lucide-react';

// Calendly URL - optimizada
const calendlyUrl = "https://calendly.com/aiautomatiza1/nueva-reunion";
---

<Layout title="Agenda tu Demo | AiAutomatiza">
    <main class="min-h-screen relative bg-slate-50">
        <!-- Background simplificado -->
        <div class="fixed inset-0 z-0 bg-white">
            <div class="absolute top-0 right-0 w-1/2 h-1/2 bg-gradient-to-bl from-blue-50/50 to-transparent"></div>
            <div class="absolute bottom-0 left-0 w-1/2 h-1/2 bg-gradient-to-tr from-violet-50/50 to-transparent"></div>
        </div>
        
        <!-- Content -->
        <div class="relative z-10">
            <!-- Header con navegación -->
            <header class="px-4 sm:px-6 lg:px-8 py-4 sm:py-6">
                <div class="max-w-7xl mx-auto flex items-center justify-between">
                    <a 
                        href="/" 
                        class="inline-flex items-center gap-2 text-slate-500 hover:text-slate-900 transition-colors text-sm font-medium group"
                    >
                        <ArrowLeft className="w-4 h-4 transition-transform group-hover:-translate-x-1" />
                        <span class="hidden sm:inline">Volver al inicio</span>
                        <span class="sm:hidden">Volver</span>
                    </a>
                    
                    <!-- Logo -->
                    <div class="flex items-center gap-2">
                        <img 
                            src="/logo.webp" 
                            alt="AIAutomatiza" 
                            class="w-8 h-8"
                        />
                        <span class="font-bold text-lg hidden sm:block text-slate-900">AiAutomatiza</span>
                    </div>
                </div>
            </header>
            
            <!-- Main content -->
            <div class="px-4 sm:px-6 lg:px-8 py-6 sm:py-10">
                <div class="max-w-7xl mx-auto">
                    
                    <div class="grid lg:grid-cols-12 gap-8 lg:gap-16 items-start">
                        
                        <!-- Left column - Info (más compacto) -->
                        <div class="lg:col-span-4 xl:col-span-4 space-y-6 lg:sticky lg:top-8">
                            
                            <!-- Badge -->
                            <div class="inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-blue-50 border border-blue-100 text-blue-600 text-xs font-medium">
                                <Sparkles className="w-3.5 h-3.5" />
                                Disponible ahora
                            </div>
                            
                            <!-- Title -->
                            <div>
                                <h1 class="text-3xl sm:text-4xl lg:text-5xl font-bold mb-3 leading-tight text-slate-900">
                                    Agenda tu <span class="text-gradient">Demo</span>
                                </h1>
                                <p class="text-slate-500 text-sm sm:text-base leading-relaxed">
                                    Descubre cómo automatizar tu clínica y multiplicar tus ingresos con IA.
                                </p>
                            </div>
                            
                            <!-- Meeting details - más compacto -->
                            <div class="flex flex-wrap gap-4">
                                <div class="flex items-center gap-2 text-slate-600 text-sm font-medium">
                                    <Clock className="w-4 h-4 text-blue-500" />
                                    <span>30 min</span>
                                </div>
                                <div class="flex items-center gap-2 text-slate-600 text-sm font-medium">
                                    <Video className="w-4 h-4 text-violet-500" />
                                    <span>Videollamada</span>
                                </div>
                                <div class="flex items-center gap-2 text-slate-600 text-sm font-medium">
                                    <Calendar className="w-4 h-4 text-green-500" />
                                    <span>Sin compromiso</span>
                                </div>
                            </div>
                            
                            <!-- Trust indicators - solo en desktop -->
                            <div class="hidden lg:block pt-6 border-t border-slate-200">
                                <p class="text-slate-500 text-xs mb-4 font-medium">+60 clínicas confían en nosotros</p>
                                <div class="flex items-center gap-6 opacity-60">
                                    <img 
                                        src="https://static.tildacdn.net/tild3264-3533-4433-b232-353833333564/4.png" 
                                        alt="Cliente" 
                                        class="h-6 w-auto grayscale hover:grayscale-0 transition-all duration-300"
                                        loading="lazy"
                                    />
                                    <img 
                                        src="https://static.tildacdn.net/tild3535-6534-4430-b638-633436663461/5.png" 
                                        alt="Cliente" 
                                        class="h-6 w-auto grayscale hover:grayscale-0 transition-all duration-300"
                                        loading="lazy"
                                    />
                                    <img 
                                        src="https://static.tildacdn.net/tild6139-3836-4762-a133-663064313139/7.png" 
                                        alt="Cliente" 
                                        class="h-8 w-auto grayscale hover:grayscale-0 transition-all duration-300"
                                        loading="lazy"
                                    />
                                </div>
                            </div>
                        </div>
                        
                        <!-- Right column - Calendar (protagonista) -->
                        <div class="lg:col-span-8 xl:col-span-8">
                            <!-- Calendar container -->
                            <div class="relative">
                                <!-- Clean container without styles -->
                                <div class="relative overflow-hidden rounded-2xl sm:rounded-3xl">
                                    <!-- Loading placeholder -->
                                    <div 
                                        class="absolute inset-0 flex items-center justify-center bg-white z-20 transition-opacity duration-500" 
                                        id="calendly-loading"
                                    >
                                        <div class="flex flex-col items-center gap-4">
                                            <div class="w-10 h-10 border-3 border-blue-50 border-t-blue-500 rounded-full animate-spin"></div>
                                            <span class="text-slate-400 text-sm font-medium">Cargando calendario...</span>
                                        </div>
                                    </div>
                                    
                                    <!-- Calendly inline widget -->
                                    <div 
                                        class="calendly-inline-widget" 
                                        data-url={`${calendlyUrl}?hide_gdpr_banner=1&hide_landing_page_details=1&hide_event_type_details=1&background_color=ffffff&text_color=0f172a&primary_color=2563eb`}
                                        style="min-width:100%;height:850px;"
                                    ></div>
                                </div>
                            </div>
                            
                            <!-- Mobile info - solo visible en móvil -->
                            <div class="lg:hidden mt-8 space-y-4">
                                <div class="bg-white border border-slate-100 rounded-xl p-5 shadow-sm">
                                    <h3 class="font-semibold text-slate-900 text-sm mb-4">En esta llamada:</h3>
                                    <div class="grid grid-cols-2 gap-3">
                                        <div class="flex items-center gap-2 text-xs text-slate-600 font-medium">
                                            <CheckCircle className="w-4 h-4 text-green-500 shrink-0" />
                                            <span>Demo personalizada</span>
                                        </div>
                                        <div class="flex items-center gap-2 text-xs text-slate-600 font-medium">
                                            <CheckCircle className="w-4 h-4 text-green-500 shrink-0" />
                                            <span>Cálculo de ROI</span>
                                        </div>
                                        <div class="flex items-center gap-2 text-xs text-slate-600 font-medium">
                                            <CheckCircle className="w-4 h-4 text-green-500 shrink-0" />
                                            <span>Sin compromiso</span>
                                        </div>
                                        <div class="flex items-center gap-2 text-xs text-slate-600 font-medium">
                                            <CheckCircle className="w-4 h-4 text-green-500 shrink-0" />
                                            <span>Soporte completo</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Footer -->
            <footer class="px-4 sm:px-6 lg:px-8 py-8 text-center border-t border-slate-100 mt-8 sm:mt-12 bg-white">
                <p class="text-slate-500 text-xs sm:text-sm">
                    © 2024 AiAutomatiza · 
                    <a href="/privacidad" class="text-slate-600 hover:text-blue-600 transition-colors font-medium">Privacidad</a>
                </p>
            </footer>
        </div>
    </main>
    
    <!-- Calendly script -->
    <script type="text/javascript" src="https://assets.calendly.com/assets/external/widget.js" async></script>
    
    <script>
        // Hide loading when Calendly is ready
        function hideLoading() {
            const loading = document.getElementById('calendly-loading');
            if (loading && loading.style.display !== 'none') {
                loading.style.opacity = '0';
                setTimeout(() => {
                    loading.style.display = 'none';
                }, 300);
            }
        }
        
        // Listen for Calendly events
        window.addEventListener('message', function(e) {
            if (e.data.event && e.data.event.indexOf('calendly') === 0) {
                hideLoading();
            }
        });
        
        // Fallback: hide loading after 2 seconds
        setTimeout(hideLoading, 2000);
    </script>
    
    <style>
        /* Custom border width */
        .border-3 {
            border-width: 3px;
        }
        
        /* Remove Calendly branding styling override */
        .calendly-inline-widget {
            border-radius: 0.75rem;
        }
    </style>
</Layout>
